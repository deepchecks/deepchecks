
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/tabular/checks/methodology/examples/plot_boosting_overfit.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_tabular_checks_methodology_examples_plot_boosting_overfit.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_tabular_checks_methodology_examples_plot_boosting_overfit.py:


Boosting Overfit
****************
Load Data
=========
The dataset is the adult dataset which can be downloaded from the UCI machine
learning repository.

Dua, D. and Graff, C. (2019). UCI Machine Learning Repository [http://archive.ics.uci.edu/ml].
Irvine, CA: University of California, School of Information and Computer Science.

.. GENERATED FROM PYTHON SOURCE LINES 15-34

.. code-block:: default


    import pandas as pd
    from sklearn.preprocessing import LabelEncoder

    names = [*(f'col_{i}' for i in range(1,14)), 'target']
    train_df = pd.read_csv('http://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data', 
                           header=None, names=names)
    val_df = pd.read_csv('http://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.test', 
                         skiprows=1, header=None, names=names)
    val_df['target'] = val_df['target'].str[:-1]

    # Run label encoder on all categorical columns
    for column in train_df.columns:
        if train_df[column].dtype == 'object':
            le = LabelEncoder()
            le.fit(pd.concat([train_df[column], val_df[column]]))
            train_df[column] = le.transform(train_df[column])
            val_df[column] = le.transform(val_df[column])








.. GENERATED FROM PYTHON SOURCE LINES 35-37

Create Dataset
==============

.. GENERATED FROM PYTHON SOURCE LINES 37-44

.. code-block:: default


    from deepchecks.tabular import Dataset
    from deepchecks.tabular.checks.methodology.boosting_overfit import BoostingOverfit

    train_ds = Dataset(train_df, label='target')
    validation_ds = Dataset(val_df, label='target')





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Some columns have been inferred as categorical features: col_1, col_3, col_4, col_5, col_6, col_7, col_8. 
     and more... 
     For the full list of columns, use dataset.cat_features
    Some columns have been inferred as categorical features: col_1, col_3, col_4, col_5, col_6, col_7, col_8. 
     and more... 
     For the full list of columns, use dataset.cat_features




.. GENERATED FROM PYTHON SOURCE LINES 45-47

Classification model
====================

.. GENERATED FROM PYTHON SOURCE LINES 47-53

.. code-block:: default


    from sklearn.ensemble import AdaBoostClassifier

    clf = AdaBoostClassifier(random_state=0)
    clf.fit(train_ds.data[train_ds.features], train_ds.data[train_ds.label_name])
    BoostingOverfit().run(train_ds, validation_ds, clf)





.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">



    <script type="application/vnd.jupyter.widget-state+json">
    {"version_major":2,"version_minor":0,"state":{"a7a4fd676d53476e8cd5ef630a2b2564":{"model_name":"VBoxModel","model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","state":{"_dom_classes":[],"children":["IPY_MODEL_f3b58d1ed35a44dfa210a2a9f03ff688","IPY_MODEL_f2fd846a375f49f581da1af0fd6b4b41","IPY_MODEL_e61846ba7faf4278944adeb251046f62"],"layout":"IPY_MODEL_7b37804176fe43ee9d5a77a44a59ba88"}},"f3b58d1ed35a44dfa210a2a9f03ff688":{"model_name":"HTMLModel","model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","state":{"_dom_classes":[],"layout":"IPY_MODEL_f8044e686bcb49f9bcae7be2d262103d","style":"IPY_MODEL_5bebdf6f768d4828a0a54d58aa68e1fd","value":"<h4>Boosting Overfit</h4><p>Check for overfit caused by using too many iterations in a gradient boosted model. <a href=\"https://docs.deepchecks.com/en/0.6.0.dev1/examples/tabular/checks/methodology/boosting_overfit.html?utm_source=display_output&utm_medium=referral&utm_campaign=check_link\" target=\"_blank\">Read More...</a></p><h5>Additional Outputs</h5><div><span>\n            The check limits the boosting model to using up to N estimators each time, and plotting the\n            Accuracy calculated for each subset of estimators for both the train dataset and the test dataset.\n        </span></div>"}},"f8044e686bcb49f9bcae7be2d262103d":{"model_name":"LayoutModel","model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","state":{}},"5bebdf6f768d4828a0a54d58aa68e1fd":{"model_name":"DescriptionStyleModel","model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","state":{}},"f2fd846a375f49f581da1af0fd6b4b41":{"model_name":"FigureModel","model_module":"jupyterlab-plotly","model_module_version":"^5.6.0","state":{"_config":{"plotlyServerURL":"https://plot.ly"},"_data":[{"mode":"lines+markers","name":"Training score","x":[1,2,3,4,5,8,12,15,17,20,24,26,30,32,35,38,41,44,47,50],"y":{"dtype":"float64","shape":[20]},"type":"scatter","uid":"1cb88e28-d9cc-4f02-ba50-db70fd434218"},{"mode":"lines+markers","name":"Test score","x":[1,2,3,4,5,8,12,15,17,20,24,26,30,32,35,38,41,44,47,50],"y":{"dtype":"float64","shape":[20]},"type":"scatter","uid":"b842116e-1e20-4a67-a8bd-2f54c576eee8"}],"_dom_classes":[],"_js2py_layoutDelta":{},"_js2py_pointsCallback":{},"_js2py_relayout":{},"_js2py_restyle":{},"_js2py_traceDeltas":{},"_js2py_update":{},"_layout":{"height":500,"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Accuracy score compared to number of boosting iteration"},"width":800,"xaxis":{"title":{"text":"Number of boosting iterations"}},"yaxis":{"title":{"text":"Accuracy"}}},"_py2js_addTraces":{},"_py2js_animate":{},"_py2js_deleteTraces":{},"_py2js_moveTraces":{},"_py2js_relayout":{},"_py2js_removeLayoutProps":{},"_py2js_removeTraceProps":{},"_py2js_restyle":{},"_py2js_update":{},"_view_count":0},"buffers":[{"encoding":"base64","path":["_data",0,"y","buffer"],"data":"HZBGwUlL6D8E3LDx2wnqP/RYLknk1Oo/TkCdD5746j9iHMYypv3qPx9HyoBzLes/hrjy6LMt6z89kYe1/zTrP3PlAO7ANes/82kcgks86z89mr7dFELrP6DdU2UoTus/Jpk5AvVV6z9XtugxdFXrP6YdVZZ/XOs/8E338Uhi6z8JYeodk2jrPxPPfi8Xa+s/f3dxoJls6z+1y+rYWm3rPw=="},{"encoding":"base64","path":["_data",1,"y","buffer"],"data":"XDnAl9Vw6D8vob2E9hLqP1q+JmAlz+o/CwlpKGb36j9zH7CXeQPrPxILQC87LOs/eEVuUzYp6z9X9ZUXxDHrP3mz+njCMOs/z/wCkso16z/AeWmsY0XrPwVkv5TsSus/XvdsHplm6z8JHPEqHWnrP8YNtI2scus/Cop9UKlw6z9g04VpsXXrP3EyOJowdes/6MsY76px6z89p5TiJm/rPw=="}]},"e61846ba7faf4278944adeb251046f62":{"model_name":"HTMLModel","model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","state":{"_dom_classes":[],"layout":"IPY_MODEL_6accd380db60429ab99a0281c697f70b","style":"IPY_MODEL_e589aa0be46a4a6cb93d28e9f18095ff"}},"6accd380db60429ab99a0281c697f70b":{"model_name":"LayoutModel","model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","state":{}},"e589aa0be46a4a6cb93d28e9f18095ff":{"model_name":"DescriptionStyleModel","model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","state":{}},"7b37804176fe43ee9d5a77a44a59ba88":{"model_name":"LayoutModel","model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","state":{}}}}
    </script>
    <script type="application/vnd.jupyter.widget-view+json">
    {"version_major":2,"version_minor":0,"model_id":"a7a4fd676d53476e8cd5ef630a2b2564"}
    </script>


    </div>
    <br />
    <br />


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  11.176 seconds)


.. _sphx_glr_download_examples_tabular_checks_methodology_examples_plot_boosting_overfit.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_boosting_overfit.py <plot_boosting_overfit.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_boosting_overfit.ipynb <plot_boosting_overfit.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
